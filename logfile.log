{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":34500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":34500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"level":"error","message":"Product is not defined Product is not defined","stack":"ReferenceError: Product is not defined\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:31:22)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/l{"level":"error","message":"Product is not defined Product is not defined","stack":"ReferenceError: Product is not defined\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:31:22)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:365:14)\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:421:3)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Product is not defined Product is not defined","stack":"ReferenceError: Product is not defined\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:31:22)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:365:14)\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:421:3)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"result.save is not a function result.save is not a function","stack":"TypeError: result.save is not a function\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:39:43)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:365:14)\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:421:3)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:1150:12)\n    at ServerResponse.json (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:271:14)\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:22)\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:39:12)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:1150:12)\n    at ServerResponse.json (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:271:14)\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:22)\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:40:12)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"codeName":"DuplicateKey","keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","ok":0,"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:231:30)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)\n    at _write (node:internal/streams/writable:340:10)\n    at Writable.write (node:internal/streams/writable:344:10)\n    at Socket.ondata (node:internal/streams/readable:785:22)\n    at Socket.emit (node:events:514:28)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:34)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:34)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:34)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:28)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:21:35)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:21:35)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:22:35)"}
{"_message":"User validation failed","errors":{"password":{"kind":"Number","message":"Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\"","name":"CastError","path":"password","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\"","value":"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe","valueType":"string"}},"level":"error","message":"User validation failed: password: Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\" User validation failed: password: Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\"","stack":"ValidationError: User validation failed: password: Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.set [as password] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/document/compile.js:204:19)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:24:18)"}
{"_message":"User validation failed","errors":{"password":{"kind":"Number","message":"Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\"","name":"CastError","path":"password","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\"","value":"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG","valueType":"string"}},"level":"error","message":"User validation failed: password: Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\" User validation failed: password: Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\"","stack":"ValidationError: User validation failed: password: Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.set [as password] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/document/compile.js:204:19)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:24:18)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:22)\n    at module.exports.deleteProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:46:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/r{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
